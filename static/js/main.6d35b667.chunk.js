(this.webpackJsonpmovieapp=this.webpackJsonpmovieapp||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(12),s=n.n(i),r=(n(42),n(43),n(20)),o=n(9),l=n(69),u=n(70),j=n(6),d=n(36),b=n(68),m=n(54),p=n(2),h=["classes","children"];var f=function(e){e.classes;var t=e.children,n=Object(d.a)(e,h);return Object(p.jsx)(b.a,Object(j.a)(Object(j.a)({component:m.a,container:!0,alignItems:"baseline",class:"sticky z-1000 bg-black justify-items-center"},n),{},{children:t}))},g=n(30),O=n(11),v=n(18),x=n.n(v);var w=Object(o.a)((function(){return{setHeight:{height:"94vh"}}}));var y=x()(w,Object(O.b)((function(e){return{totalCount:e.totalCount,page:e.page,pagesReturned:e.pagesReturned}}),(function(e){return{fetchMovieList:function(t){return e(function(e){return function(t){t({type:"FETCH_MOVIE_LIST",data:e})}}(t))},updatePage:function(){return e((function(e){e({type:"NEXT_PAGE"})}))}}})))((function(e){var t=e.classes,n=e.fetchMovieList,a=e.movies,i=e.page,s=e.totalCount,r=e.pagesReturned,o=e.updatePage;Object(c.useEffect)((function(){fetch("/api/contentpage".concat(i,".json")).then((function(e){return e.json()})).then((function(e){n(e.page)})).catch((function(e){return console.log(e)}))}),[i]);var l=Object(c.useCallback)((function(){r<=s&&o()}),[r]);return Object(p.jsx)("div",{children:Object(p.jsx)(g.a,{onBottom:l,children:function(e){return Object(p.jsx)("div",{ref:e,id:"movieList",class:"container mx-auto overflow-y-auto ".concat(t.setHeight),children:a.map((function(e,t){return Object(p.jsx)("div",{class:"inline-block pl-2 w-34 h-40 ",children:Object(p.jsxs)("div",{class:"bg-black overflow-hidden py-2",children:[Object(p.jsx)("img",{"data-src":"/slices/".concat(e["poster-image"]),onError:function(e){e.target.onerror=null,e.target.src="/slices/placeholder_for_missing_posters.png"},src:"/slices/".concat(e["poster-image"]),class:"image-lazy w-34 h-40",alt:e.name}),Object(p.jsx)("div",{class:"pr-2 pb-2 pt-2",children:Object(p.jsx)("span",{class:"text-left text-white font-light",title:"".concat(e.name),children:(n=e.name,n.length<=11?n:"".concat(n.slice(0,9),"..."))})})]},"".concat(e["poster-image"],"_").concat(t))},"main_".concat(e["poster-image"],"_").concat(t,"}"));var n}))})}})})})),S=n(33),C=n.n(S),E=Object(o.a)((function(){return{cardStyle:{width:"27.7%"}}}));var I=x()(E,Object(O.b)((function(e){return{movieNames:e.movieNames,movies:e.movieList}})))((function(e){var t=e.classes,n=e.movieNames,a=e.movies,i=Object(c.useState)(!1),s=Object(r.a)(i,2),o=s[0],j=s[1],d=Object(c.useState)([]),b=Object(r.a)(d,2),m=b[0],h=b[1],g=Object(c.useState)(""),O=Object(r.a)(g,2),v=O[0],x=O[1];Object(c.useEffect)((function(){h(a)}),[a]);var w=function(e){x(e);var t=a.filter((function(t){return t.name.includes(e)}));h(t)};return Object(p.jsx)("div",{children:Object(p.jsx)("header",{class:"flex flex-col items-center justify-items-center",children:Object(p.jsx)(l.a,{class:"bg-black rounded-none h-screen ".concat(t.cardStyle),children:Object(p.jsxs)(u.a,{class:"p-px",children:[Object(p.jsx)(f,{children:Object(p.jsxs)("div",{class:"w-screen h-8 mt-2 flex flex-row",children:[Object(p.jsx)("img",{src:"/slices/back.png",class:"w-8 mr-4",alt:"Back"}),o?Object(p.jsx)(C.a,{id:"autocomplete",getItemValue:function(e){return e},items:n,renderItem:function(e,t){return Object(p.jsx)("div",{style:{background:t?"lightgray":"white",padding:"3px"},children:e})},value:v,onChange:function(e){return w(e.target.value)},onSelect:function(e){return w(e)},inputProps:{placeholder:"Search Movie Here...",style:{width:"16rem"}},wrapperStyle:{display:"inline-flex",width:"16rem",marginRight:"6px"}}):Object(p.jsx)("span",{class:"font-normal text-white text-lg mr-32",children:"Romantic Comedy"}),Object(p.jsx)("img",{src:"/slices/search.png",class:"w-8",alt:"Search",onClick:function(){j(!o),!1===!o&&h(a),x("")}})]})}),Object(p.jsx)(y,{movies:m})]})})})})})),_=n(19),k=n(34),L=n(21),T={movieList:[],totalCount:0,fetching:!1,page:1,pagesReturned:0,movieNames:[]},N=n(35),M=Object(_.applyMiddleware)(k.a),R=Object(_.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MOVIE_LIST":return Object(j.a)(Object(j.a)({},e),{},{totalCount:parseInt(t.data["total-content-items"]),movieList:e.movieList.concat(t.data["content-items"].content),movieNames:Object(L.a)(new Set([].concat(Object(L.a)(e.movieNames),Object(L.a)(t.data["content-items"].content.map((function(e){return e.name})))))),pagesReturned:e.pagesReturned+parseInt(t.data["page-size-returned"])});case"FETCHING_IMAGES":return Object(j.a)(Object(j.a)({},e),{},{fetching:t.fetching});case"NEXT_PAGE":return Object(j.a)(Object(j.a)({},e),{},{page:e.page+1});default:return e}}),Object(N.composeWithDevTools)(M)),F=R;var P=function(){return Object(p.jsx)(O.a,{store:F,children:Object(p.jsx)(I,{})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(P,{})}),document.getElementById("root")),H()}},[[53,1,2]]]);
//# sourceMappingURL=main.6d35b667.chunk.js.map